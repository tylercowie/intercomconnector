import {build, bool, oneOf, perBuild} from '@jackfranklin/test-data-bot';
import {fakeTimestamp} from './fakeTimestamp.js';
import {faker} from '@faker-js/faker';

// https://developers.intercom.com/intercom-api-reference/reference#contacts-model
export const contactBuilder = build({
    fields: {
        type: 'contact',
        id: perBuild(() => faker.datatype.uuid()),
        workspace_id: perBuild(() => faker.datatype.uuid()),
        external_id: perBuild(() => faker.datatype.uuid()),
        role: oneOf('user', 'lead'),
        email: perBuild(() => faker.internet.email()),
        phone: perBuild(() => faker.phone.number()),
        name: perBuild(() => faker.name.fullName()),
        avatar: perBuild(() => faker.image.avatar()),
        owner_id: perBuild(() => faker.datatype.number()),
        social_profiles: {
            type: 'list',
            data: [
                {
                    type: 'social_profile',
                    name: oneOf('Twitter', 'Facebook'),
                    url: perBuild(() => faker.internet.url()),
                },
            ],
        },
        has_hard_bounced: bool(),
        marked_email_as_spam: bool(),
        unsubscribed_from_emails: bool(),
        created_at: perBuild(fakeTimestamp),
        updated_at: perBuild(fakeTimestamp),
        signed_up_at: perBuild(fakeTimestamp),
        last_seen_at: perBuild(fakeTimestamp),
        last_replied_at: perBuild(fakeTimestamp),
        last_contacted_at: perBuild(fakeTimestamp),
        last_email_opened_at: perBuild(fakeTimestamp),
        last_email_clicked_at: perBuild(fakeTimestamp),
        language_override: null,
        browser: oneOf('chrome', 'safari'),
        browser_language: oneOf('en', 'ru'),
        os: 'OS X 10.14.6',
        location: {
            type: 'location',
            country: perBuild(() => faker.address.country()),
            region: perBuild(() => faker.address.county()),
            city: perBuild(() => faker.address.city()),
        },
        android_app_name: null,
        android_app_version: null,
        android_device: null,
        android_os_version: null,
        android_sdk_version: null,
        android_last_seen_at: null,
        ios_app_name: null,
        ios_app_version: null,
        ios_device: null,
        ios_os_version: null,
        ios_sdk_version: null,
        ios_last_seen_at: null,
        custom_attributes: {},
        tags: {
            type: 'list',
            data: [],
            url: '',
            total_count: 0,
            has_more: false,
        },
        notes: {
            type: 'list',
            data: [],
            url: '',
            total_count: 0,
            has_more: false,
        },
        companies: {
            type: 'list',
            data: [],
            url: '',
            total_count: 0,
            has_more: false,
        },
    },
});
